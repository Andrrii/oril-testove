(this["webpackJsonptest-oril"]=this["webpackJsonptest-oril"]||[]).push([[0],{189:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},197:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},334:function(e,t,n){},335:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(70),s=n.n(c),i=n(27),o=n(32),l=n(33),u=n(35),h=n(41),d=n(39),j=n.n(d),b=n(92),f=function e(){var t=this;Object(i.a)(this,e),this.getResource=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t," , received ").concat(n.status," "));case 5:return e.next=7,n.json();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPeople=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("https://oril-coins-test.herokuapp.com/list");case 2:return n=e.sent,e.abrupt("return",n.map(t._transformDate));case 4:case"end":return e.stop()}}),e)}))),this.getPerson=function(){var e=Object(b.a)(j.a.mark((function e(n){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("https://oril-coins-test.herokuapp.com/item/".concat(n));case 2:return a=e.sent,r=t._sortByDate(a.data.map(t._transformPeople)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._formatDate=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getDate();n<10&&(n="0"+n);var a=e.getMonth()+1;a<10&&(a="0"+a);var r=e.getFullYear();if(r<10&&(r="0"+r),t){var c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=e.getDay(),i=e.getHours();i<10&&(i="0"+i);var o=e.getMinutes();o<10&&(o="0"+o);var l=e.getSeconds();return l<10&&(l="0"+l),c[s]+" "+n+"."+a+"."+r.toString().slice(-2)+" "+i+":"+o+":"+l}return n+"."+a+"."+r},this._sortByDate=function(e){return e.sort((function(e,t){return e.date>t.date?1:-1}))},this._changeZero=function(e){return isNaN(e)?0:e},this._transformDate=function(e){return Object(h.a)(Object(h.a)({},e),{},{createdAt:t._formatDate(new Date(e.createdAt.slice(0,10))),date:Date.parse(e.createdAt)})},this._transformPeople=function(e){return Object(h.a)(Object(h.a)({},e),{},{curency:t._changeZero(+e.curency),date:Date.parse(e.date),formatDate:t._formatDate(new Date(e.date.slice(0,-1)),!0)})},this._transformBack=function(e){return Object(h.a)(Object(h.a)({},e),{},{date:t._formatDate(new Date(e.date)),formatDate:e.date.slice(-1)})}},O=n(18),p=(n(189),n(2)),m=function(){return Object(p.jsxs)("div",{className:"cssload-loader",children:[Object(p.jsx)("div",{className:"cssload-inner cssload-one"}),Object(p.jsx)("div",{className:"cssload-inner cssload-two"}),Object(p.jsx)("div",{className:"cssload-inner cssload-three"})]})},x=(n(191),n(192),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).oril=new f,e.state={personList:[],search:"",sort:"Name"},e.update=function(){e.oril.getAllPeople().then((function(t){e.setState({personList:t})}))},e.handleInputChange=function(t){var n=t.currentTarget.value;e.setState({search:n})},e._handleOptionChange=function(t){var n=e.state.personList,a=t.currentTarget.value;if("date"===a){var r=n.sort(e._byField("date",!0));e.setState({personList:r})}else if("name"===a){var c=n.sort(e._byField("name"));e.setState({personList:c})}else if("state"===a){var s=n.sort(e._byField("isActive",!0));e.setState({personList:s})}},e._byField=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?function(t,n){return t[e]<n[e]?1:-1}:function(t,n){return t[e]>n[e]?1:-1}},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.update()}},{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.personList,a=t.search;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("input",{onChange:function(t){return e.handleInputChange(t)},type:"text",className:"input-clc ic-fa",placeholder:"Search by name"}),Object(p.jsxs)("table",{className:"w3-table-all w3-hoverable tbl",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{className:"w3-light-grey",children:[Object(p.jsx)("th",{className:"tbl-th",children:Object(p.jsxs)("select",{defaultValue:"name",value:this.value,className:"tbl-th",name:"option",onChange:function(t){return e._handleOptionChange(t)},children:[Object(p.jsx)("option",{value:"name",children:"Name"}),Object(p.jsx)("option",{value:"date",children:"Date"}),Object(p.jsx)("option",{value:"state",children:"State"})]})}),Object(p.jsx)("th",{className:"tbl-th",children:"Date"}),Object(p.jsx)("th",{className:"tbl-th",children:"State"})]})}),Object(p.jsx)("tbody",{children:0===n.length?Object(p.jsx)("tr",{children:Object(p.jsx)("td",{children:Object(p.jsx)(m,{})})}):n.filter((function(e){return e.name.includes(a)})).map((function(t){return Object(p.jsxs)("tr",{className:"w3-hover-gray",onClick:function(){e.props.onPersonSelected(t.id),e.nextPath("/detail/".concat(t.id))},children:[Object(p.jsx)("td",{children:Object(p.jsx)("b",{children:t.name})},t.id),Object(p.jsx)("td",{children:t.createdAt}),t.isActive?Object(p.jsx)("td",{style:{color:"#5D5FEF"},children:"Active"}):Object(p.jsx)("td",{style:{color:"#EF5DA8"},children:"Disable"})]},t.id)}))})]})]})}}]),n}(r.a.Component)),v=Object(O.f)(x),y=function(e){var t=e.onPersonSelected;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(v,{onPersonSelected:t})})},g=(n(197),n(337)),w=n(338),N=n(179),D=n(176),k=n(177),S=n(79),_=n(342),F=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r)))._strDays=function(e){return e.toString().slice(0,-12)},e._strMonths=function(e){return e.toString().slice(-17,-12)},e._strYears=function(e){return e.toString().slice(-14,-8)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.dataList;return Object(p.jsx)(g.a,{className:"chart",width:"85%",height:300,children:Object(p.jsxs)(w.a,{data:t,children:[Object(p.jsx)("defs",{children:Object(p.jsxs)("linearGradient",{id:"color",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(p.jsx)("stop",{offset:"0%",stopColor:"#007AFF",stopOpacity:.6}),Object(p.jsx)("stop",{offset:"75%",stopColor:"#007AFF",stopOpacity:.05})]})}),Object(p.jsx)(N.a,{dataKey:"curency",stroke:"#007AFF",fill:"url(#color)"}),Object(p.jsx)(D.a,{dataKey:"formatDate",tickFormatter:function(n){return t.length<25?e._strDays(n):t.length>25&&t.length<=100?e._strMonths(n):e._strYears(n)},axisLine:!1,tickLine:!1}),Object(p.jsx)(k.a,{dataKey:"curency",axisLine:!1,tickLine:!1,tickFormatter:function(e){return"$".concat(e)}}),Object(p.jsx)(S.a,{}),Object(p.jsx)(_.a,{opacity:.3,horizontal:!1})]})})}}]),n}(r.a.Component),L=(n(332),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).oril=new f,e.state={itemList:[],dataList:[]},e.update=function(){e.oril.getPerson(e.props.personId).then((function(t){e.setState({itemList:t})}))},e._setData=function(t,n){try{var a,r,c,s=0;t.map((function(e){return s+=e.curency})),a=t.reduce((function(e,t){return e.curency<t.curency?e:t})),r=t.reduce((function(e,t){return e.curency>t.curency?e:t})),c=(s/t.length).toFixed(0),e.setState(Object(h.a)(Object(h.a)({},e.state),{},{dataList:t,label:n,sum:s.toFixed(0),min:+a.curency,max:+r.curency,medium:c}))}catch(i){e.setState({error:!0})}},e.changeData=function(t){var n=e.state.itemList;if("day"===t){var a=n.slice(-12);e._setData(a,"Week")}else if("month"===t){var r=n.slice(-55);e._setData(r,"Month")}else if("year"===t){var c=n.slice(288,788);e._setData(c,"Year")}},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.update(),setTimeout((function(){e.changeData("day")}),1e3)}},{key:"render",value:function(){var e=this,t=this.state,n=t.dataList,a=t.sum,r=t.min,c=t.max,s=t.medium;return t.error?Object(p.jsx)("h1",{children:"Go to first page"}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"w3-bar w3-hover bar",children:[Object(p.jsx)("button",{onClick:function(){e.changeData("day")},className:"w3-button w3-white w3-border btn",children:"Week"}),Object(p.jsx)("button",{onClick:function(){e.changeData("month")},className:"w3-button w3-white w3-border btn",children:"Month"}),Object(p.jsx)("button",{onClick:function(){e.changeData("year")},className:"w3-button w3-white w3-border btn",children:"Year"})]}),Object(p.jsx)("h1",{className:"label",children:this.state.label}),Object(p.jsx)(F,{dataList:n}),Object(p.jsxs)("div",{className:"counter",children:[Object(p.jsx)("h3",{className:"header-3",children:"Total"}),Object(p.jsxs)("h1",{className:"header-1",children:["$ ",+a]})]}),Object(p.jsxs)("div",{className:"counters w3-row",children:[Object(p.jsxs)("div",{className:"w3-col s4 w3-center",children:[Object(p.jsx)("h3",{className:"header-3",children:"Min"}),Object(p.jsxs)("h1",{className:"header-1",children:["$ ",r]})]}),Object(p.jsxs)("div",{className:"w3-col s4 w3-center",children:[Object(p.jsx)("h3",{className:"header-3",children:"Medium"}),Object(p.jsxs)("h1",{className:"header-1",children:["$ ",s]})]}),Object(p.jsxs)("div",{className:"w3-col s4 w3-center",children:[Object(p.jsx)("h3",{className:"header-3",children:"Max"}),Object(p.jsxs)("h1",{className:"header-1",children:["$ ",c]})]})]})]})}}]),n}(r.a.Component)),A=(n(333),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"block",children:Object(p.jsx)(L,{personId:this.props.personId})})}}]),n}(r.a.Component)),C=n(114),P=(n(334),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={onPersonSelected:null},e.onPersonSelected=function(t){e.setState({onPersonSelected:t})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(C.a,{children:Object(p.jsxs)(O.c,{children:[Object(p.jsx)(O.a,{path:"/",exact:!0,render:function(){return Object(p.jsx)(y,{onPersonSelected:e.onPersonSelected})}}),Object(p.jsx)(O.a,{path:"/detail/:id?",exact:!0,component:function(){return Object(p.jsx)(A,{personId:e.state.onPersonSelected})}})]})})})}}]),n}(r.a.Component));s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(P,{})}),document.getElementById("root"))}},[[335,1,2]]]);
//# sourceMappingURL=main.6d8af01b.chunk.js.map